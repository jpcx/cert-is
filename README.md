# cert-is

Provides a collection of assertion tools for checking strict equality, type, and range of a set of values.

[![NPM](https://nodei.co/npm/cert-is.png)](https://nodei.co/npm/cert-is/)

[![NPM](https://img.shields.io/github/license/jpcx/cert-is.svg)](https://www.npmjs.com/package/cert-is/)
[![NPM](https://img.shields.io/node/v/cert-is.svg)](https://www.npmjs.com/package/cert-is/)
[![NPM](https://img.shields.io/npm/dm/cert-is.svg)](https://www.npmjs.com/package/cert-is/)
[![NPM](https://img.shields.io/github/last-commit/jpcx/cert-is.svg)](https://www.npmjs.com/package/cert-is/)
[![NPM](https://img.shields.io/david/jpcx/cert-is.svg)](https://www.npmjs.com/package/cert-is/)
[![NPM](https://img.shields.io/david/dev/jpcx/cert-is.svg)](https://www.npmjs.com/package/cert-is/)

**Migration Notice:** The error naming scheme has changed from 0.1.2 --> 0.2.1. Please see the [API Documentation](#api) for the new names.

## Installation

```console
npm i cert-is
```

## Testing

```console
cd /path/to/node_modules/cert-is
npm i -d
npm test
```

## Usage

```js
const cert = require('cert-is')

// All of the following calls return cert() instance
cert('foo').is('foo', 'bar', 'baz')
cert('foo', 42).is('foo', 'bar', 'baz', 42)
cert('foo').isNot('qux', 'quz')
cert('foo', 42).isNot('qux', 'quz')
cert('foo').isType('string')
cert('foo', {}).isType('string', 'object')
cert('foo', {}).isType('string', Object)
cert('foo').isNotType('number')
cert('foo', {}).isNotType('number', 'symbol')
cert(42).isRange(32, 52, true, true)
cert(42, 45).isRange(32, 52, true, true)
cert(42).isGT(32)
cert(42, 84).isGT(32)
cert(42).isGTE(42)
cert(42, 52).isGTE(42)
cert(42).isLT(52)
cert(42, 32).isLT(52)
cert(42).isLTE(42)
cert(42, 22).isLTE(42)

// All of the following calls throw errors
cert('foo').is('bar', 'baz')
cert('foo', 42).is('foo', 'bar', 'baz')
cert('foo').isNot('foo', 'qux', 'quz')
cert('foo', 42).isNot('qux', 'quz', 42)
cert('foo').isType('number')
cert('foo', {}).isType('string', 'function')
cert('foo', {}).isType('string', Array)
cert('foo').isNotType('string')
cert('foo', {}).isNotType('number', 'symbol', 'object')
cert(42).isRange(32, 42, true, false)
cert(42, 45).isRange(42, 52, false, true)
cert(42).isGT(42)
cert(42, 84).isGT(62)
cert(42).isGTE(52)
cert(42, 52).isGTE(62)
cert(42).isLT(42)
cert(42, 32).isLT(37)
cert(42).isLTE(32)
cert(42, 22).isLTE(32)

// Use the cert.check method to avoid throwing errors (invalid argument errors will still throw)
cert.check('foo').is('foo', 'bar', 'baz') // returns cert.check() instance
cert.check('foo').is('bar', 'baz')        // returns false

// All cert() and cert.check() methods return their instance if a given test passes
// As such, multiple tests may be appended to each other

// Returns cert() instance
cert(42).is(42).isGT(41).isLT(43).isType('number', Number)

// Throws a ValueAssertionError
cert(42).is('not42').isGT(41).isLT(43).isType('number', Number)

// Throws a TypeAssertionError
cert(42).is('not42').isGT(41).isLT(43).isType('string')

// Returns cert.check() instance
cert.check(42).is(42).isGT(41).isLT(43).isType('number', Number)

// Returns false
cert.check(42).is('not42').isGT(41).isLT(43).isType('number', Number)
cert.check(42).is(42).isGT(41).isLT(43).isType('string')

// Load a message with cert.message in order to customize the error message
 // Throws ValueAssertionError with message: [ERR_INVALID_VALUE]: 42 is not not 42
cert(42).message('42 is not not 42').isNot(42)
cert(42).message('42 is not not 42').is(42)          // returns cert() instance
cert.check(42).message('42 is not not 42').is(42)    // returns cert.check() instance
cert.check(42).message('42 is not not 42').isNot(42) // returns false
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [cert-is](#cert-is)
-   [Type](#type)
-   [ValueArgumentError](#valueargumenterror)
-   [TypeArgumentError](#typeargumenterror)
-   [RangeArgumentError](#rangeargumenterror)
-   [ValueAssertionError](#valueassertionerror)
-   [TypeAssertionError](#typeassertionerror)
-   [RangeAssertionError](#rangeassertionerror)
-   [Certifier](#certifier)
    -   [is](#is)
    -   [isNot](#isnot)
    -   [isType](#istype)
    -   [isNotType](#isnottype)
    -   [isRange](#isrange)
    -   [isGT](#isgt)
    -   [isGTE](#isgte)
    -   [isLT](#islt)
    -   [isLTE](#islte)
-   [Checker](#checker)
-   [check](#check)

### cert-is

-   **See: [GitHub](http://github.com/jpcx/cert-is)**

Provides a collection of assertion tools for checking strict equality, type, and range of a set of values.

#### Parameters

-   `values` **...any** Values used during construction of a new Certifier instance. Certifier methods will operate on these values.

#### Properties

-   `check` **[check](#check)** Constructs a new Checker instance.
-   `ValueArgumentError` **[ValueArgumentError](#valueargumenterror)** Reference to the ValueArgumentError class.
-   `TypeArgumentError` **[TypeArgumentError](#typeargumenterror)** Reference to the TypeArgumentError class.
-   `RangeArgumentError` **[RangeArgumentError](#rangeargumenterror)** Reference to the RangeArgumentError class.
-   `ValueAssertionError` **[ValueAssertionError](#valueassertionerror)** Reference to the ValueAssertionError class.
-   `TypeAssertionError` **[TypeAssertionError](#typeassertionerror)** Reference to the TypeAssertionError class.
-   `RangeAssertionError` **[RangeAssertionError](#rangeassertionerror)** Reference to the RangeAssertionError class.

#### Examples

```javascript
const cert = require('cert-is')

const certifier = cert('foo', 'bar')
certifier.is('foo') // undefined
certifier.is('bar') // undefined
certifier.is('qux') // THROWS ValueAssertionError
```

```javascript
const cert = require('cert-is')

cert('foo').is('foo')                      // returns cert() instance
cert('foo').is('bar')                      // THROWS ValueAssertionError
cert('foo').is('foo', 'bar')               // returns cert() instance
cert('foo').isNot('foo')                   // THROWS ValueAssertionError
cert('foo').isType('string')               // returns cert() instance
cert('foo').isType('number')               // THROWS TypeAssertionError
cert('foo').isType('string', 'number')     // returns cert() instance
cert(new Map()).isType(Map)                // returns cert() instance
cert(new Map()).isType(Object)             // returns cert() instance
cert(new Map()).isType(Set)                // THROWS TypeAssertionError
cert(new Map()).isType(Map, Set)           // returns cert() instance
cert(15).isGT(2)                           // returns cert() instance
cert(15).isGT(15)                          // THROWS RangeAssertionError
cert(15).isGTE(15)                         // returns cert() instance
cert(15, 23).isGTE(15)                     // returns cert() instance
cert(15, 23).isGTE('foo')                  // THROWS TypeArgumentError
cert(15, 23).isRange(14, 24, false, false) // returns cert() instance
cert(15, 23).isRange(15, 23, true, true)   // returns cert() instance
cert(15, 23).isRange(15, 23, true, false)  // THROWS RangeAssertionError
cert(15, 23).isRange(23, 15, true, true)   // THROWS RangeArgumentError
```

```javascript
const check = require('cert-is').check

check('foo').is('foo')        // returns true
check('foo').is('bar')        // returns check() instance
check('foo').isType('string') // returns true
check('foo').isType('bar')    // THROWS TypeArgumentError
check('foo').isGT('')         // THROWS TypeArgumentError
```

```javascript
const cert = require('cert-is')
const check = cert.check

cert(15).isGT(2).isLT(18).isType('number')     // returns cert() instance
cert(15).isGT(2).isLT(-9000).isType('number')  // throws RangeAssertionError
check(15).isGT(2).isLT(18).isType('number')    // returns check() instance
check(15).isGT(2).isLT(-9000).isType('number') // returns false
```

Returns **[Certifier](#certifier)** Instance of the [Certifier](#certifier) class that contains methods for certifying the provided values.

**Meta**

-   **author**: Justin Collier &lt;jpcxist@gmail.com>
-   **license**: MIT

### Type

Any value that could potentially refer to a type or constructor.

Type: (`"boolean"` \| `"undefined"` \| `"number"` \| `"string"` \| `"symbol"` \| `"object"` \| `"function"` \| [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function))

#### Examples

```javascript
'string'
```

```javascript
Array
```

### ValueArgumentError

**Extends Error**

Thrown when an argument's value is not an acceptable value.

#### Parameters

-   `paramName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the parameter that caused the error.
-   `valid` **...any** Optional list of valid values for the argument. (optional, default `[]`)

#### Properties

-   `name` **`"Error"`** Name of the error constructor.
-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Message describing the issue. See examples below.
-   `code` **`"ERR_INVALID_ARG_VALUE"`** Error code.
-   `valid` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)?** Optional list of valid values for the argument. If none are provided to the constructor, this property will not be set.

#### Examples

```javascript
const e = new ValueArgumentError('foo')
e.name    // 'Error'
e.message // '[ERR_INVALID_ARG_VALUE]: "foo" has an invalid value'
e.code    // 'ERR_INVALID_ARG_VALUE'
```

```javascript
const e = new ValueArgumentError('foo', 'bar')
e.name    // 'Error'
e.message // '[ERR_INVALID_ARG_VALUE]: "foo" has an invalid value'
e.code    // 'ERR_INVALID_ARG_VALUE'
e.valid   // ['bar']
```

### TypeArgumentError

**Extends TypeError**

Thrown when an argument's type is not an acceptable type.

#### Parameters

-   `paramName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the parameter that caused the error.
-   `validTypes` **...[Type](#type)** Optional list of valid types for the argument. (optional, default `[]`)

#### Properties

-   `name` **`"TypeError"`** Name of the error constructor.
-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Message describing the issue. See examples below.
-   `code` **`"ERR_INVALID_ARG_TYPE"`** Error code.
-   `validTypes` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)?** Optional list of valid types for the argument. If none are provided to the constructor, this property will not be set.

#### Examples

```javascript
const e = new TypeArgumentError('foo')
e.name    // 'TypeError'
e.message // '[ERR_INVALID_ARG_TYPE]: "foo" has an invalid type'
e.code    // 'ERR_INVALID_ARG_TYPE'
```

```javascript
const e = new TypeArgumentError('foo', 'string', 'number')
e.name       // 'TypeError'
e.message    // '[ERR_INVALID_ARG_TYPE]: "foo" has an invalid type'
e.code       // 'ERR_INVALID_ARG_TYPE'
e.validTypes // ['string', 'number']
```

### RangeArgumentError

**Extends RangeError**

Thrown when an argument's range is not within an acceptable range.

#### Parameters

-   `paramName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the parameter that caused the error.
-   `lower` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Optional lower bound of the range.
-   `upper` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Optional upper bound of the range.
-   `lowIncl` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Optional indicator of an inclusive lower bound.
-   `upIncl` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Optional indicator of an inclusive upper bound.

#### Properties

-   `name` **`"RangeError"`** Name of the error constructor.
-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Message describing the issue. See examples below.
-   `range` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Short description of the range. Only set if all four bound specifiers are provided to the constructor and are the correct types (`lower`: `number`; `upper`: `number`; `lowIncl`: `boolean`; `upIncl`: `boolean`).
-   `code` **`"ERR_INVALID_ARG_RANGE"`** Error code.

#### Examples

```javascript
const e = new RangeArgumentError('foo')
e.name    // 'RangeError'
e.message // '[ERR_INVALID_ARG_RANGE]: "foo" has an invalid range'
e.code    // 'ERR_INVALID_ARG_RANGE'
```

```javascript
const e = new RangeArgumentError('foo', 42)
e.name    // 'RangeError'
e.message // '[ERR_INVALID_ARG_RANGE]: "foo" has an invalid range'
e.code    // 'ERR_INVALID_ARG_RANGE'
```

```javascript
const e = new RangeArgumentError('foo', 42, 84, true, false)
e.name    // 'RangeError'
e.message // '[ERR_INVALID_ARG_RANGE]: "foo" has an invalid range'
e.code    // 'ERR_INVALID_ARG_RANGE'
e.range   // `42 <= 'foo' < 84`
```

### ValueAssertionError

**Extends Error**

Thrown when the certifier finds a value is either not expected or is explicitly forbidden.

#### Properties

-   `name` **`"Error"`** Name of the error constructor.
-   `message` **`"[ERR_INVALID_VALUE]: Value is invalid"`** Message describing the issue.
-   `code` **`"ERR_INVALID_VALUE"`** Error code.

#### Examples

```javascript
const e = new ValueAssertionError()
e.name    // 'Error'
e.message // '[ERR_INVALID_VALUE]: Value is invalid'
e.code    // 'ERR_INVALID_VALUE'
```

### TypeAssertionError

**Extends TypeError**

Thrown when the certifier finds a value with a type that is either not expected or is explicitly forbidden.

#### Properties

-   `name` **`"TypeError"`** Name of the error constructor.
-   `message` **`"[ERR_INVALID_TYPE]: Value is of an invalid type"`** Message describing the issue.
-   `code` **`"ERR_INVALID_TYPE"`** Error code.

#### Examples

```javascript
const e = new TypeAssertionError()
e.name    // 'TypeError'
e.message // '[ERR_INVALID_TYPE]: Value is of an invalid type'
e.code    // 'ERR_INVALID_TYPE'
```

### RangeAssertionError

**Extends RangeError**

Thrown when the certifier finds a value that is not within an expected range.

#### Properties

-   `name` **`"TypeError"`** Name of the error constructor.
-   `message` **`"[ERR_INVALID_RANGE]: Value is of a prohibited range"`** Message describing the issue.
-   `code` **`"ERR_INVALID_RANGE"`** Error code.

#### Examples

```javascript
const e = new RangeAssertionError()
e.name    // 'RangeError'
e.message // '[ERR_INVALID_RANGE]: Value is of a prohibited range'
e.code    // 'ERR_INVALID_RANGE'
```

### Certifier

Given a set of values, provides a collection of assertion tools for checking strict equality, type, and range. Throws the appropriate error if a given test does not pass.

#### Parameters

-   `values` **...any** Values to certify.

#### is

Certifies that ALL elements of `values` are strictly equal to any element of `allowed`. Throws if ANY element of `values` is NOT strictly equal to any valid value

##### Parameters

-   `valid` **...any** Allowed values.


-   Throws **[ValueAssertionError](#valueassertionerror)** Throws an ValueAssertionError if the test fails.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isNot

Certifies that All elements of `values` are not strictly equal to any element of `invalid`. Throws if the ANY element of `values` IS strictly equal to any invalid value.

##### Parameters

-   `invalid` **...any** Prohibited values.


-   Throws **[ValueAssertionError](#valueassertionerror)** Throws an ValueAssertionError if the test fails.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isType

Certifies that ALL elements of `values` match any type in `validTypes`. Throws if the type of any element of `values` is NOT strictly equal to any valid type. If a given type is a string, checks using `typeof`. If a given type is a function, checks using instanceof.

##### Parameters

-   `validTypes` **...[Type](#type)** Allowed types.


-   Throws **([TypeAssertionError](#typeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an TypeAssertionError if the test fails. Throws an TypeArgumentError if any element of `validTypes` is not a string or function.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isNotType

Certified that All elements of `values` DO NOT match any type in `invalidTypes`. Throws if the type of any element of `values` IS strictly equal to any invalid type. If a given type is a string, checks using `typeof`. If a given type is a function, checks using instanceof.

##### Parameters

-   `invalidTypes` **...[Type](#type)** Prohibited types.


-   Throws **([TypeAssertionError](#typeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an TypeAssertionError if the test fails. Throws an TypeArgumentError if any element of `prohibitedTypes` is not a string or function.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isRange

Certifies that ALL elements of `values` are within the provided range. Either bound may be inclusive or exclusive. Defaults to exclusive for both.

##### Parameters

-   `lower` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Lower bound used for range checking.
-   `upper` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Upper bound used for range checking.
-   `lowIncl` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether or not the lower bound is inclusive. (optional, default `false`)
-   `upIncl` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether or not the upper bound is inclusive. (optional, default `false`)


-   Throws **([RangeAssertionError](#rangeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an RangeAssertionError if the test fails. Throws an TypeArgumentError if any element of `values`, `lower`, or `upper` are not strict number types. Throws an TypeArgumentError if either `lowIncl` or `upIncl` are not strict boolean types. Throws an RangeArgumentError if `upper` is less than `lower`, or if `upper` is equal to `lower` and either are exclusive.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isGT

Certifies that ALL elements of `values` are greater than a provided lower bound. Throws if any element of `values` is NOT greater than the provided bound. Throws if any element of `values` is not a strict number type, or if `lower` is not a strict number type.

##### Parameters

-   `lower` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Lower bound used for range checking


-   Throws **([RangeAssertionError](#rangeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an RangeAssertionError if the test fails. Throws an TypeArgumentError if `lower` is not a strict number type.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isGTE

Certifies that ALL elements of `values` are greater than or equal to a provided lower bound. Throws if any element of `values` is NOT greater or equal to the provided bound. Throws if any element of `values` is not a strict number type or if `lower` is not a strict number type.

##### Parameters

-   `lower` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Lower bound used for range checking


-   Throws **([RangeAssertionError](#rangeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an RangeAssertionError if the test fails. Throws an TypeArgumentError if `lower` is not a strict number type.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isLT

Certifies that ALL elements of `values` are less than a provided upper bound. Throws if any element of `values` is NOT less than the provided bound. Throws if any element of `values` is not a strict number type or if `upper` is not a strict number type.

##### Parameters

-   `upper` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Upper bound used for range checking


-   Throws **([RangeAssertionError](#rangeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an RangeAssertionError if the test fails. Throws an TypeArgumentError if `upper` is not a strict number type.

Returns **[Certifier](#certifier)** Returns instance for re-use.

#### isLTE

Certifies that ALL elements of `values` are less than or equal to a provided upper bound. Throws if any element of `values` is NOT less than or equal to the provided bound. Throws if any element of `values` is not a strict number type or if `upper` is not a strict number type.

##### Parameters

-   `upper` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Upper bound used for range checking


-   Throws **([RangeAssertionError](#rangeassertionerror) \| [TypeArgumentError](#typeargumenterror))** Throws an RangeAssertionError if the test fails. Throws an TypeArgumentError if `upper` is not a strict number type.

Returns **[Certifier](#certifier)** Returns instance for re-use.

### 

Loads a message into the certifier to provide additional context for
thrown AssertionErrors.

#### Parameters

-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Message to load.

Returns **[Certifier](#certifier)** 

### Checker

**Extends Certifier**

Provides an interface for the Certifier class that performs a given test on the values and returns the result as a boolean rather than throwing an error. Contains all methods associated with a Certifier instance. Methods return `true` if the test passes, and `false` if the test throws an error.

#### Parameters

-   `values` **...any** Values to certify.


-   Throws **[TypeArgumentError](#typeargumenterror)** Throws an TypeArgumentError if the supplied arguments are invalid.

Returns **([Checker](#checker) \| `false`)** Returns the instance for re-use (truthy), or false if the check fails (falsy).

### check

Constructs a new Checker instance in order to perform tests without throwing test errors.

#### Parameters

-   `values` **...any** Values used during construction of a new Certifier instance. Certifier methods will operate on these values.

#### Examples

```javascript
check('foo').is('bar')        // false
check('foo').is('bar', 'foo') // true
check(123).isGT(42)           // true
check(123).isGT('foo')        // THROWS TypeArgumentError
```

Returns **[Checker](#checker)** Returns a new Checker instance with Certifier instance methods capable of testing the supplied values.
